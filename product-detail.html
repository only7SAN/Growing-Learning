<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="APSNOW - Product Details">
    <title>PURSNIC - Product Details</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-red: #dc2626;
            --primary-blue: #2563eb;
            --text-primary: #1f2937;
            --text-secondary: #6b7280;
            --bg-light: #ffffff;
            --bg-gray: #f9fafb;
            --border-color: #e5e7eb;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            color: var(--text-primary);
            background-color: var(--bg-light);
            line-height: 1.6;
        }

        /* Navigation Bar */
        .navbar {
            background: var(--bg-light);
            border-bottom: 1px solid var(--border-color);
            padding: 15px 0;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .navbar-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 30px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .logo {
            font-size: 32px;
            font-weight: bold;
            text-decoration: none;
        }

        .logo .red {
            color: var(--primary-red);
        }

        .logo .blue {
            color: var(--primary-blue);
        }

        .nav-links {
            display: flex;
            align-items: center;
            gap: 30px;
        }

        .nav-links a {
            color: var(--text-primary);
            text-decoration: none;
            font-size: 16px;
            transition: color 0.3s;
        }

        .nav-links a:hover {
            color: var(--primary-red);
        }

        .search-icon {
            font-size: 20px;
            cursor: pointer;
            color: var(--text-primary);
        }

        /* Product Detail Section */
        .product-detail {
            max-width: 1400px;
            margin: 40px auto;
            padding: 0 30px;
        }

        .product-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 60px;
            margin-bottom: 60px;
        }

        /* Product Images */
        .product-images {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .main-image {
            width: 100%;
            aspect-ratio: 1;
            object-fit: contain;
            border-radius: 12px;
            background: var(--bg-gray);
            border: 1px solid var(--border-color);
        }

        .full-view-button {
            width: 100%;
            margin-top: 15px;
            padding: 12px 20px;
            background: var(--bg-light);
            border: 2px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-primary);
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .full-view-button:hover {
            border-color: var(--primary-red);
            background: var(--bg-gray);
            color: var(--primary-red);
        }

        .thumbnail-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
        }

        .thumbnail {
            width: 100%;
            aspect-ratio: 1;
            object-fit: contain;
            border-radius: 8px;
            cursor: pointer;
            border: 2px solid transparent;
            transition: border-color 0.3s;
            background: var(--bg-gray);
        }

        .thumbnail:hover,
        .thumbnail.active {
            border-color: var(--primary-red);
        }

        .thumbnail-more {
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--bg-gray);
            color: var(--text-secondary);
            font-size: 16px;
            font-weight: 600;
            text-align: center;
            border: 2px solid var(--border-color);
            transition: all 0.3s;
            cursor: pointer;
        }

        .thumbnail-more:hover {
            border-color: var(--primary-red);
            background: var(--bg-light);
            color: var(--primary-red);
        }

        /* Image Gallery Modal */
        .image-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 1000;
            overflow-y: auto;
        }

        .image-modal.active {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 30px;
            color: white;
            font-size: 40px;
            font-weight: bold;
            cursor: pointer;
            z-index: 1001;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            transition: background 0.3s;
        }

        .modal-close:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .modal-content {
            position: relative;
            max-width: 90%;
            max-height: 90vh;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 60px 100px 40px;
        }

        .modal-image-container {
            position: relative;
            width: 100%;
            max-width: 1200px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto;
        }

        .modal-image {
            max-width: 100%;
            max-height: 80vh;
            object-fit: contain;
            border-radius: 8px;
            background: var(--bg-light);
            pointer-events: auto;
        }

        .modal-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.5);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
            width: 60px;
            height: 60px;
            border-radius: 50%;
            font-size: 32px;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            z-index: 1002;
            line-height: 1;
        }

        .modal-nav:hover {
            background: rgba(0, 0, 0, 0.7);
            border-color: rgba(255, 255, 255, 0.6);
            transform: translateY(-50%) scale(1.1);
        }

        .modal-nav.prev {
            left: -80px;
        }

        .modal-nav.next {
            right: -80px;
        }

        @media (max-width: 1024px) {
            .modal-nav.prev {
                left: 10px;
            }

            .modal-nav.next {
                right: 10px;
            }

            .modal-content {
                padding: 60px 60px 40px;
            }
        }

        .modal-nav:disabled {
            opacity: 0.3;
            cursor: not-allowed;
            pointer-events: none;
        }

        .modal-counter {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: white;
            font-size: 16px;
            background: rgba(0, 0, 0, 0.5);
            padding: 8px 16px;
            border-radius: 20px;
        }

        /* Product Info */
        .product-info {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .product-title {
            font-size: 28px;
            font-weight: 600;
            line-height: 1.3;
            color: var(--text-primary);
        }

        .product-price {
            font-size: 36px;
            font-weight: bold;
            color: var(--primary-red);
        }

        .product-description {
            font-size: 16px;
            color: var(--text-secondary);
            line-height: 1.8;
        }

        .features-list {
            list-style: none;
            padding: 0;
        }

        .features-list li {
            padding: 10px 0;
            padding-left: 25px;
            position: relative;
            color: var(--text-secondary);
        }

        .features-list li::before {
            content: '‚úì';
            position: absolute;
            left: 0;
            color: var(--primary-red);
            font-weight: bold;
        }

        .buy-button {
            background: #ffd814;
            color: var(--text-primary);
            border: none;
            padding: 15px 40px;
            font-size: 18px;
            font-weight: 600;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }

        .buy-button:hover {
            background: #f7ca00;
        }

        .amazon-logo {
            height: 20px;
        }

        /* Color Variants */
        .color-variants {
            margin: 20px 0;
        }

        .color-variants-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 12px;
        }

        .color-options {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        .color-option {
            padding: 8px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            background: var(--bg-light);
            cursor: pointer;
            transition: all 0.3s;
            font-size: 12px;
            color: var(--text-primary);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
            min-width: 80px;
        }

        .color-option-thumbnail {
            width: 60px;
            height: 60px;
            object-fit: contain;
            border-radius: 6px;
            border: 1px solid var(--border-color);
            background: var(--bg-gray);
        }

        .color-option:hover {
            border-color: var(--primary-red);
            background: var(--bg-gray);
        }

        .color-option.active {
            border-color: var(--primary-red);
            background: var(--bg-light);
        }

        .color-option.active .color-option-thumbnail {
            border-color: var(--primary-red);
            border-width: 2px;
        }

        .color-option-price {
            font-size: 14px;
            font-weight: 600;
            color: var(--primary-red);
            margin-top: 4px;
        }

        /* Product Specifications */
        .product-specifications {
            margin: 30px 0;
            padding: 20px;
            background: var(--bg-gray);
            border-radius: 8px;
            border: 1px solid var(--border-color);
        }

        .specifications-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 15px;
        }

        .specifications-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .specifications-list li {
            padding: 10px 0;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            gap: 10px;
        }

        .specifications-list li:last-child {
            border-bottom: none;
        }

        .spec-label {
            font-weight: 600;
            color: var(--text-primary);
            min-width: 140px;
        }

        .spec-value {
            color: var(--text-secondary);
            flex: 1;
        }

        /* About This Item Section */
        .about-item {
            margin: 30px 0;
        }

        .about-item-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 15px;
        }

        .about-item-content {
            font-size: 15px;
            color: var(--text-secondary);
            line-height: 1.8;
        }

        .about-item-content ul {
            margin: 15px 0;
            padding-left: 20px;
        }

        .about-item-content li {
            margin-bottom: 12px;
        }

        .about-item-content strong {
            color: var(--text-primary);
            font-weight: 600;
        }

        /* Product Information Section */
        .product-information-section {
            max-width: 1400px;
            margin: 60px auto;
            padding: 0 30px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
        }

        .info-section {
            background: var(--bg-light);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 25px;
        }

        .info-section-title {
            font-size: 20px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 10px;
        }

        .info-section-subtitle {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 20px;
        }

        .info-table {
            width: 100%;
            border-collapse: collapse;
        }

        .info-table tr {
            border-bottom: 1px solid var(--border-color);
        }

        .info-table tr:last-child {
            border-bottom: none;
        }

        .info-table td {
            padding: 12px 0;
            font-size: 14px;
        }

        .info-table td:first-child {
            font-weight: 600;
            color: var(--text-primary);
            width: 40%;
        }

        .info-table td:last-child {
            color: var(--text-secondary);
        }

        .info-table a {
            color: var(--primary-blue);
            text-decoration: none;
        }

        .info-table a:hover {
            text-decoration: underline;
        }

        .rating-stars {
            color: #ffa41c;
            font-size: 16px;
            margin-right: 5px;
        }

        @media (max-width: 1024px) {
            .product-information-section {
                grid-template-columns: 1fr;
                gap: 30px;
            }
        }

        /* From the Brand Section */
        .from-brand-section {
            max-width: 1400px;
            margin: 60px auto;
            padding: 0 30px;
        }

        .from-brand-title {
            font-size: 24px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 30px;
        }

        /* Product Description Section */
        .product-description-section {
            max-width: 1400px;
            margin: 60px auto;
            padding: 0 30px;
        }

        .product-description-title {
            font-size: 24px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 30px;
        }

        .description-images-grid {
            display: flex;
            flex-direction: column;
            margin-top: 20px;
        }

        .description-image-item {
            width: 100%;
            overflow: hidden;
            background: var(--bg-gray);
        }

        .description-image-item img {
            width: 100%;
            height: auto;
            display: block;
            object-fit: contain;
        }

        .description-carousel {
            position: relative;
            width: 100%;
            overflow: hidden;
            border-radius: 12px;
        }

        .description-carousel-container {
            display: flex;
            transition: transform 0.5s ease;
        }

        .description-carousel-item {
            min-width: 100%;
            position: relative;
        }

        .description-carousel-item img {
            width: 100%;
            height: auto;
            display: block;
        }

        /* Brand carousel with fixed background */
        .brand-carousel-container {
            position: relative;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            min-height: 400px;
            overflow: hidden;
        }

        .brand-carousel-foreground-container {
            display: flex;
            transition: transform 0.5s ease;
            width: max-content;
            height: 100%;
            min-height: 400px;
            align-items: center;
            gap: 10px;
            padding: 40px 20px;
        }

        .brand-carousel-item {
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .brand-carousel-item .brand-carousel-foreground {
            position: relative;
            width: 60%;
            max-width: 600px;
            height: auto;
            z-index: 1;
        }

        .brand-carousel-item .brand-carousel-foreground img {
            width: 100%;
            height: auto;
            display: block;
        }

        .description-carousel-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.8);
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s;
            z-index: 10;
        }

        .description-carousel-nav:hover {
            background: rgba(255, 255, 255, 1);
        }

        .description-carousel-nav.prev {
            left: 20px;
        }

        .description-carousel-nav.next {
            right: 20px;
        }

        .description-carousel-nav:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        /* Description Section */
        .description-section {
            margin-top: 60px;
            padding-top: 40px;
            border-top: 2px solid var(--border-color);
        }

        .description-title {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 30px;
            color: var(--text-primary);
        }

        .description-content {
            font-size: 16px;
            color: var(--text-secondary);
            line-height: 1.8;
        }

        .description-content p {
            margin-bottom: 15px;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .product-container {
                grid-template-columns: 1fr;
                gap: 40px;
            }

            .thumbnail-grid {
                grid-template-columns: repeat(9, 1fr);
            }
        }

        @media (max-width: 768px) {
            .product-title {
                font-size: 22px;
            }

            .product-price {
                font-size: 28px;
            }

            .thumbnail-grid {
                grid-template-columns: repeat(5, 1fr);
            }
        }
    </style>
</head>

<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="navbar-container">
            <a href="index.html" class="logo">
                <span class="red"></span><span class="blue"></span>
            </a>
            <div class="nav-links">
                <a href="index.html">Home</a>
                <a href="#" class="dropdown">Products</a>
                <a href="#">About Us</a>
                <a href="#">Contact</a>
                <span class="search-icon">üîç</span>
            </div>
        </div>
    </nav>

    <!-- Product Detail Section -->
    <section class="product-detail">
        <div class="product-container" id="productContainer">
            <!-- Product content will be loaded here -->
        </div>

        <div class="from-brand-section" id="fromBrandSection">
            <!-- From the brand content will be loaded here -->
        </div>

        <div class="product-description-section" id="productDescriptionSection">
            <!-- Product Description content will be loaded here -->
        </div>

        <div class="product-information-section" id="productInformationSection">
            <!-- Product Information and Additional Information will be loaded here -->
        </div>


    </section>

    <script>
        // Product data (same as index.html)
        const products = [
            {
                id: 1,
                title: "4\" 16 Ft Mini Split Line Set Cover with Flexible Pipe, Upgrade PP Heat-Resistant & Paintable, Central AC and Heat Pumps-Full Set, No Other Parts Needed",
                price: 45.99,
                image: "./img/1.jpg",
                description: "Mini Split Line Set Cover kit includes 4x(3.2ft) straight ducts, 1x(2ft) flexible duct, totaling 16 feet, and all necessary integrated parts. Save 50% installation time with 39.4-inch straight ducts. Paintable & customizable to match exterior walls. Weather-resistant PP material withstands -40¬∞F to 140¬∞F. Compatible with most 7,000 - 36,000 BTU ductless mini splits.",
                features: [
                    "Mini Split Line Set Cover: Includes 4x(3.2ft) straight ducts, 1x(2ft) flexible duct, totaling 16 feet",
                    "Save 50% Installation Time: 39.4-inch straight ducts simplify installation",
                    "Paintable & Customizable: Can be painted to match exterior walls and trimmed to length",
                    "Enhance Aesthetics: PP Decorative Pipe Line Cover Kit to hide unsightly line sets",
                    "Weather-Resistant: Upgraded Polypropylene (PP) withstands -40¬∞F to 140¬∞F",
                    "Easy Installation: DIY-friendly with included components",
                    "Compatibility: Compatible with most 7,000 - 36,000 BTU ductless mini splits"
                ],
                fullDescription: `
                    <p><strong>Mini Split Line Set Cover</strong></p>
                    <p>This comprehensive kit includes 4x(3.2ft) straight ducts, 1x(2ft) flexible duct, totaling 16 feet, and all necessary integrated parts. No additional components needed for installation.</p>
                    
                    <p><strong>Save 50% Installation Time</strong></p>
                    <p>Our 39.4-inch straight ducts are designed to simplify installation and reduce the risk of refrigerant leaks. The pre-assembled components make DIY installation a breeze.</p>
                    
                    <p><strong>Paintable & Customizable</strong></p>
                    <p>The pipe cover can be painted to match your exterior walls and trimmed to the exact length needed for your installation. This ensures a seamless, professional appearance.</p>
                    
                    <p><strong>Enhance Aesthetics</strong></p>
                    <p>Transform the look of your home by hiding unsightly line sets with our PP Decorative Pipe Line Cover Kit. The clean, modern design blends seamlessly with any architectural style.</p>
                    
                    <p><strong>Weather-Resistant</strong></p>
                    <p>Made of upgraded Polypropylene (PP), this cover is capable of withstanding temperatures from -40¬∞F to 140¬∞F without cracking or deforming. It's built to last in any climate.</p>
                    
                    <p><strong>Easy Installation</strong></p>
                    <p>DIY-friendly design with all included components saves you the cost of professional assistance. Clear instructions make installation straightforward for homeowners.</p>
                    
                    <p><strong>Compatibility</strong></p>
                    <p>Compatible with most 7,000 - 36,000 BTU ductless mini splits, heat pump systems, and central A/C units. Check your unit specifications to ensure compatibility.</p>
                `
            },
            {
                id: 2,
                title: "PVC Drainage Pipe System - Complete Installation Kit with Flexible Sections and Connectors",
                price: 32.50,
                image: "./img/2.jpg",
                description: "Complete PVC drainage pipe system with straight sections, flexible corrugated sections, and various connectors. Perfect for outdoor drainage and conduit applications.",
                features: [
                    "Complete installation kit with all necessary components",
                    "Straight and flexible corrugated sections included",
                    "Various connectors and fittings for versatile installation",
                    "Perfect for outdoor drainage applications",
                    "Durable PVC construction",
                    "Easy to install and maintain"
                ],
                fullDescription: `
                    <p><strong>Complete PVC Drainage System</strong></p>
                    <p>This comprehensive kit includes all components needed for a complete drainage installation. Features straight sections, flexible corrugated sections, and various connectors.</p>
                    
                    <p><strong>Versatile Installation</strong></p>
                    <p>The system includes various connectors and fittings that allow for flexible installation configurations. Perfect for both residential and commercial applications.</p>
                    
                    <p><strong>Durable Construction</strong></p>
                    <p>Made from high-quality PVC material that resists corrosion and weathering. Designed to last for years with minimal maintenance.</p>
                `
            },
            {
                id: 3,
                title: "WEETALL LED Hair Growth Therapy Cap with Remote Control - Professional Hair Restoration Device",
                price: 89.99,
                image: "./img/3.jpg",
                description: "Advanced LED hair growth therapy cap with red LED lights. Features remote control for easy operation. Comfortable design with adjustable fit.",
                features: [
                    "Advanced LED hair growth technology",
                    "Red LED lights for optimal hair restoration",
                    "Remote control for easy operation",
                    "Comfortable and adjustable design",
                    "Professional-grade therapy device",
                    "Battery-powered for convenience"
                ],
                fullDescription: `
                    <p><strong>Professional Hair Restoration</strong></p>
                    <p>This advanced LED hair growth therapy cap uses red LED lights to stimulate hair follicles and promote natural hair growth. Professional-grade technology for home use.</p>
                    
                    <p><strong>Easy to Use</strong></p>
                    <p>Features a convenient remote control for easy operation. Simply put on the cap and use the remote to start your therapy session.</p>
                    
                    <p><strong>Comfortable Design</strong></p>
                    <p>The cap features an adjustable fit to ensure comfort during use. The lightweight design allows for extended wear without discomfort.</p>
                `
            },
            {
                id: 4,
                title: "T5 LED Grow Light for Plants Full Spectrum | Commercial Grade (60cm, 6400k + 2700k)",
                price: 65.20,
                image: "./img/4.jpg",
                description: "Commercial grade LED grow light with full spectrum (6400k + 2700k). Perfect for indoor plant growth and laboratory use. Energy efficient and long-lasting.",
                features: [
                    "Full spectrum LED lighting (6400k + 2700k)",
                    "Commercial grade quality",
                    "Perfect for indoor plant growth",
                    "Energy efficient design",
                    "Long-lasting LED technology",
                    "60cm length for optimal coverage"
                ],
                fullDescription: `
                    <p><strong>Full Spectrum LED Grow Light</strong></p>
                    <p>This commercial grade LED grow light provides full spectrum lighting with both 6400k (cool white) and 2700k (warm white) LEDs. Perfect for all stages of plant growth.</p>
                    
                    <p><strong>Energy Efficient</strong></p>
                    <p>LED technology provides excellent light output while consuming minimal energy. This makes it cost-effective for long-term use in both home and commercial settings.</p>
                `
            },
            {
                id: 5,
                title: "Professional Lab LED Lighting Equipment - Full Spectrum LED Light Strip for Plant Growth and Laboratory Use",
                price: 55.99,
                image: "./img/5.jpg",
                description: "Professional full spectrum LED light strip for plant growth and laboratory use. High-quality construction with excellent light distribution.",
                features: [
                    "Professional grade construction",
                    "Full spectrum LED technology",
                    "Excellent light distribution",
                    "Suitable for laboratory use",
                    "Durable and reliable design",
                    "Easy installation"
                ],
                fullDescription: `
                    <p><strong>Professional Laboratory Lighting</strong></p>
                    <p>This professional-grade LED light strip is designed for both plant growth and laboratory applications. Features excellent light distribution and consistent output.</p>
                `
            },
            {
                id: 6,
                title: "3D Printer LED Lamp Kit - Compatible with Bambu Lab A1/A1mini/P1S/P1P/X1C Makerworld",
                price: 28.50,
                image: "./img/6.jpg",
                description: "LED light lamp kit compatible with Bambu Lab A1/A1mini/P1S/P1P/X1C. Easy installation with warm white light and RGB color options.",
                features: [
                    "Compatible with multiple Bambu Lab models",
                    "Warm white light option",
                    "RGB color options",
                    "Easy installation",
                    "DIY-friendly design",
                    "Enhances 3D printing visibility"
                ],
                fullDescription: `
                    <p><strong>3D Printer LED Lighting</strong></p>
                    <p>This LED lamp kit is specifically designed for Bambu Lab 3D printers. Enhances visibility during printing with warm white or RGB color options.</p>
                `
            },
            {
                id: 7,
                title: "Night Light Plug in Wall, with Dusk to Dawn Photocell Sensor, 3000K Warm White, Brightness Adjustable, 1W LED Night Light for Kids, Bedroom, Hallway, Stairs - 2 Pack",
                price: 12.99,
                image: "./img/7-1-1.jpg",
                images: ["./img/7-1-1.jpg", "./img/7-1-2.jpg", "./img/7-1-3.jpg", "./img/7-1-4.jpg", "./img/7-1-5.jpg", "./img/7-1-6.jpg", "./img/7-1-7.jpg", "./img/7-1-8.jpg", "./img/7-1-9.jpg", "./img/7-1-10.jpg"],
                colorVariants: [
                    {
                        name: "Color 1",
                        mainImage: "./img/7-1-1.jpg",
                        images: ["./img/7-1-1.jpg", "./img/7-1-2.jpg", "./img/7-1-3.jpg", "./img/7-1-4.jpg", "./img/7-1-5.jpg", "./img/7-1-6.jpg", "./img/7-1-7.jpg", "./img/7-1-8.jpg", "./img/7-1-9.jpg", "./img/7-1-10.jpg"]
                    },
                    {
                        name: "Color 2",
                        mainImage: "./img/7-2-1.jpg",
                        images: ["./img/7-2-1.jpg", "./img/7-2-2.jpg", "./img/7-2-3.jpg", "./img/7-2-4.jpg", "./img/7-2-5.jpg", "./img/7-2-6.jpg", "./img/7-2-7.jpg", "./img/7-2-8.jpg", "./img/7-2-9.jpg"]
                    },
                    {
                        name: "Color 3",
                        mainImage: "./img/7-3-1.jpg",
                        images: ["./img/7-3-1.jpg", "./img/7-3-2.jpg", "./img/7-3-3.jpg", "./img/7-3-4.jpg", "./img/7-3-5.jpg", "./img/7-3-6.jpg", "./img/7-3-7.jpg", "./img/7-3-8.jpg", "./img/7-3-9.jpg"]
                    },
                    {
                        name: "Color 4",
                        mainImage: "./img/7-4-1.jpg",
                        images: ["./img/7-4-1.jpg", "./img/7-4-2.jpg", "./img/7-4-3.jpg", "./img/7-4-4.jpg", "./img/7-4-5.jpg", "./img/7-4-6.jpg", "./img/7-4-7.jpg", "./img/7-4-8.jpg"]
                    }
                ],
                specifications: [
                    { label: "Brand", value: "PURSNIC" },
                    {
                        label: "ASIN",
                        value: "B0CZMTN8X3"
                    },
                    { label: "Base material", value: "Plastic" },
                    { label: "Product dimensions", value: "5D x 5W x 5H centimetres" },
                    { label: "Item weight", value: "0.08 Kilograms" },
                    { label: "Lamp type", value: "LED" },
                    { label: "Finish type", value: "Matte" },
                    { label: "Color options", value: "Warm White, Cool White, Natural White, RGB" }
                ],
                productInformation: [
                    { label: "Product Dimensions", value: "3 x 5 x 5 cm; 80 g" },
                    { label: "Specific uses", value: "Balcony, Cabinet, Garage, Home, Patio" },
                    { label: "Finish types", value: "Matte" },
                    { label: "Specification met", value: "CE, FCC, RoHS, UKCA" },
                    { label: "Is assembly required", value: "No" },
                    { label: "Number of pieces", value: "2" },
                    { label: "Batteries required", value: "No" },
                    { label: "Included components", value: "2 Pack Plug in Night Lights" },
                    { label: "Item weight", value: "0.08 Kilograms" }
                ],
                additionalInformation: [
                    { label: "ASIN", value: "B0CZMTN8X3" },
                    { label: "Item model number", value: "KMNL00102UK" },
                    { label: "Date First Available", value: "30 April 2024" },
                    { label: "Customer Reviews", value: "4.4 out of 5 stars", rating: 4.4, totalRatings: 3008 },
                    { label: "Best Sellers Rank", value: "#28 in Lighting", link: "#" }
                ],
                aboutItem: `
                    <p><strong>„ÄêDusk to Dawn Sensor„Äë</strong></p>
                    <p>Night light with sensitive light control sensing. The dusk to dawn night light will auto light up at dusk, night or in low light conditions, and it will turn off automatically during day or in sufficient light conditions.</p>
                    
                    <p><strong>„ÄêAdjustable Brightness„Äë</strong></p>
                    <p>Night light plug in wall features a smooth dimming technology that allows 5% to full brightness by touching the sliding switch button, ensuring convenient and precise control according to personal preferences.</p>
                    
                    <p><strong>„ÄêPortable Mini Design„Äë</strong></p>
                    <p>This LED nightlight only uses 1W, and it is made of ABS flame retardant materials, which is durable and safe. More light-emitting surfaces provide more light, won't take up much space, and doesn't take up its next outlets either.</p>
                    
                    <p><strong>„ÄêWarm White 3000K„Äë</strong></p>
                    <p>Plug in night light gives off warm white light, soft and non-glare, which can protect eyes and won't strain eyes. The comfortable light can light up the way and provide safety in the dark, also help you fall asleep.</p>
                    
                    <p><strong>„ÄêPlug & Play„Äë</strong></p>
                    <p>The LED night light provides an ideal means of illuminating indoor locations such as children's rooms, bedrooms, kitchens, living rooms, hallways, stairs, or any dark space. It is an excellent choice for alleviating the fear of the dark.</p>
                    
                    <p><strong>„ÄêImportant Note„Äë</strong></p>
                    <p>Please note the nightlights are light-activated, NOT motion-activated. If you want to use two dusk to dawn night lights at the same time, please use them at least 1 meter apart to avoid interfering with each other, otherwise flickering problems may occur.</p>
                `,
                description: "PURSNIC Store - Amazon's Choice. 4.3 out of 5 stars (2,954 ratings). Dusk to dawn sensor night light with sensitive light control sensing, auto lights up at dusk/night/low light and turns off during day/sufficient light.",
                features: [
                    "Dusk to Dawn Sensor: Auto lights up at dusk/night/low light, turns off during day/sufficient light",
                    "Adjustable Brightness: Smooth dimming technology allows 5% to full brightness by touching the sliding switch",
                    "Portable Mini Design: Only uses 1W, made of ABS flame retardant materials, durable and safe",
                    "Warm White 3000K: Soft and non-glare light that protects eyes and won't strain eyes",
                    "Plug & Play: Ideal for children's rooms, bedrooms, kitchens, living rooms, hallways, stairs, or any dark space",
                    "Light-Activated: NOT motion-activated. Use at least 1 meter apart to avoid interference"
                ],
                fullDescription: `
                    <p><strong>PURSNIC Store - Amazon's Choice</strong></p>
                    <p>4.3 out of 5 stars (2,954 ratings). 3K+ bought in past month.</p>
                    
                    <p><strong>Dusk to Dawn Sensor</strong></p>
                    <p>Night light with sensitive light control sensing. The dusk to dawn night light will auto light up at dusk, night or in low light conditions, and it will turn off automatically during day or in sufficient light conditions.</p>
                    
                    <p><strong>Adjustable Brightness</strong></p>
                    <p>Night light plug in wall features a smooth dimming technology that allows 5% to full brightness by touching the sliding switch button, ensuring convenient and precise control according to personal preferences.</p>
                    
                    <p><strong>Portable Mini Design</strong></p>
                    <p>This LED nightlight only uses 1W, and it is made of ABS flame retardant materials, which is durable and safe. More light-emitting surfaces provide more light, won't take up much space, and doesn't take up its next outlets either.</p>
                    
                    <p><strong>Plug & Play</strong></p>
                    <p>The LED night light provides an ideal means of illuminating indoor locations such as children's rooms, bedrooms, kitchens, living rooms, hallways, stairs, or any dark space. It is an excellent choice for alleviating the fear of the dark.</p>
                    
                    <p><strong>Warm White 3000K</strong></p>
                    <p>Plug in night light gives off warm white light, soft and non-glare, which can protect eyes and won't strain eyes. The comfortable light can light up the way and provide safety in the dark, also help you fall asleep.</p>
                    
                    <p><strong>Important Note</strong></p>
                    <p>Please note the nightlights are light-activated, NOT motion-activated. If you want to use two dusk to dawn night lights at the same time, please use them at least 1 meter apart to avoid interfering with each other, otherwise flickering problems may occur.</p>
                    
                    <p><strong>Product Specifications</strong></p>
                    <ul>
                        <li>Finish type: Matte</li>
                        <li>Base material: Plastic</li>
                        <li>Product dimensions: 5D x 5W x 5H centimetres</li>
                        <li>Item weight: 0.08 Kilograms</li>
                        <li>Lamp type: LED</li>
                        <li>Color options: Warm White, Cool White, Natural White, RGB</li>
                    </ul>
                `
            },
            {
                id: 8,
                title: "Night Light Plug in Wall, with Dusk to Dawn Photocell Sensor, 3000K Warm White, Brightness Adjustable, 1W LED Night Light for Kids, Bedroom, Hallway, Stairs - 4 Pack",
                price: 16.99,
                image: "./img/8-1-1.jpg",
                images: ["./img/8-1-1.jpg", "./img/8-1-2.jpg", "./img/8-1-3.jpg", "./img/8-1-4.jpg", "./img/8-1-5.jpg", "./img/8-1-6.jpg", "./img/8-1-7.jpg", "./img/8-1-8.jpg", "./img/8-1-9.jpg", "./img/8-1-10.jpg"],
                colorVariants: [
                    {
                        name: "Color 1",
                        mainImage: "./img/8-1-1.jpg",
                        images: ["./img/8-1-1.jpg", "./img/8-1-2.jpg", "./img/8-1-3.jpg", "./img/8-1-4.jpg", "./img/8-1-5.jpg", "./img/8-1-6.jpg", "./img/8-1-7.jpg", "./img/8-1-8.jpg", "./img/8-1-9.jpg", "./img/8-1-10.jpg"]
                    },
                    {
                        name: "Color 2",
                        mainImage: "./img/8-2-1.jpg",
                        images: ["./img/8-2-1.jpg", "./img/8-2-2.jpg", "./img/8-2-3.jpg", "./img/8-2-4.jpg", "./img/8-2-5.jpg", "./img/8-2-6.jpg", "./img/8-2-7.jpg", "./img/8-2-8.jpg", "./img/8-2-9.jpg", "./img/8-2-10.jpg"]
                    },
                    {
                        name: "Color 3",
                        mainImage: "./img/8-3-1.jpg",
                        images: ["./img/8-3-1.jpg", "./img/8-3-2.jpg", "./img/8-3-3.jpg", "./img/8-3-4.jpg", "./img/8-3-5.jpg", "./img/8-3-6.jpg", "./img/8-3-7.jpg", "./img/8-3-8.jpg", "./img/8-3-9.jpg", "./img/8-3-10.jpg"]
                    },
                    {
                        name: "Color 4",
                        mainImage: "./img/8-4-1.jpg",
                        images: ["./img/8-4-1.jpg", "./img/8-4-2.jpg", "./img/8-4-3.jpg", "./img/8-4-4.jpg", "./img/8-4-5.jpg", "./img/8-4-6.jpg", "./img/8-4-7.jpg", "./img/8-4-8.jpg", "./img/8-4-9.jpg", "./img/8-4-10.jpg"]
                    }
                ],
                specifications: [
                    { label: "Brand", value: "PURSNIC" },
                    {
                        label: "ASIN",
                        value: "B0D9JJ91H6"
                    },
                    { label: "Finish type", value: "Unfinished" },
                    { label: "Bulb base", value: "Prong" },
                    { label: "Product dimensions", value: "5.5D x 5.5W x 2.8H centimetres" },
                    { label: "Lamp type", value: "Night Light" },
                ],
                productInformation: [
                    { label: "Product Dimensions", value: "	3 x 5 x 5 cm; 80 g" },
                    { label: "Specific uses", value: "Balcony, Cabinet, Garage, Home, Patio" },
                    { label: "Finish types", value: "Matte" },
                    { label: "Specification met", value: "CE, FCC, RoHS, UKCA" },
                    { label: "Is assembly required", value: "No" },
                    { label: "Number of pieces", value: "4" },
                    { label: "Batteries required", value: "No" },
                    { label: "Included components", value: "4 Pack Plug in Night Lights" },
                    { label: "Item weight", value: "0.08 Kilograms" }
                ],
                additionalInformation: [
                    { label: "ASIN", value: "B0D9JJ91H6" },
                    { label: "Item model number", value: "KMNL00104UK" },
                    { label: "Date First Available", value: "30 April 2024" },
                    { label: "Customer Reviews", value: "4.4 out of 5 stars", rating: 4.4, totalRatings: 3008 },
                    { label: "Best Sellers Rank", value: "#28 in Lighting", link: "#" }
                ],
                aboutItem: `
                    <p><strong>„ÄêDusk to Dawn Sensor„Äë</strong></p>
                    <p>Night light with sensitive light control sensing. The dusk to dawn night light will auto light up at dusk, night or in low light conditions, and it will turn off automatically during day or in sufficient light conditions.</p>
                    
                    <p><strong>„ÄêAdjustable Brightness„Äë</strong></p>
                    <p>Night light plug in wall features a smooth dimming technology that allows 5% to full brightness by touching the sliding switch button, ensuring convenient and precise control according to personal preferences.</p>
                    
                    <p><strong>„ÄêPortable Mini Design„Äë</strong></p>
                    <p>This LED nightlight only uses 1W, and it is made of ABS flame retardant materials, which is durable and safe. More light-emitting surfaces provide more light, won't take up much space, and doesn't take up its next outlets either.</p>
                    
                    <p><strong>„ÄêWarm White 3000K„Äë</strong></p>
                    <p>Plug in night light gives off warm white light, soft and non-glare, which can protect eyes and won't strain eyes. The comfortable light can light up the way and provide safety in the dark, also help you fall asleep.</p>
                    
                    <p><strong>„ÄêPlug & Play„Äë</strong></p>
                    <p>The LED night light provides an ideal means of illuminating indoor locations such as children's rooms, bedrooms, kitchens, living rooms, hallways, stairs, or any dark space. It is an excellent choice for alleviating the fear of the dark.</p>
                    
                    <p><strong>„ÄêImportant Note„Äë</strong></p>
                    <p>Please note the nightlights are light-activated, NOT motion-activated. If you want to use two dusk to dawn night lights at the same time, please use them at least 1 meter apart to avoid interfering with each other, otherwise flickering problems may occur.</p>
                `,
                description: "PURSNIC Store - Amazon's Choice. 4.3 out of 5 stars (2,954 ratings). Dusk to dawn sensor night light with sensitive light control sensing, auto lights up at dusk/night/low light and turns off during day/sufficient light.",
                features: [
                    "Dusk to Dawn Sensor: Auto lights up at dusk/night/low light, turns off during day/sufficient light",
                    "Adjustable Brightness: Smooth dimming technology allows 5% to full brightness by touching the sliding switch",
                    "Portable Mini Design: Only uses 1W, made of ABS flame retardant materials, durable and safe",
                    "Warm White 3000K: Soft and non-glare light that protects eyes and won't strain eyes",
                    "Plug & Play: Ideal for children's rooms, bedrooms, kitchens, living rooms, hallways, stairs, or any dark space",
                    "Light-Activated: NOT motion-activated. Use at least 1 meter apart to avoid interference"
                ],
                fullDescription: `
                    <p><strong>PURSNIC Store - Amazon's Choice</strong></p>
                    <p>4.3 out of 5 stars (2,954 ratings). 3K+ bought in past month.</p>
                    
                    <p><strong>Dusk to Dawn Sensor</strong></p>
                    <p>Night light with sensitive light control sensing. The dusk to dawn night light will auto light up at dusk, night or in low light conditions, and it will turn off automatically during day or in sufficient light conditions.</p>
                    
                    <p><strong>Adjustable Brightness</strong></p>
                    <p>Night light plug in wall features a smooth dimming technology that allows 5% to full brightness by touching the sliding switch button, ensuring convenient and precise control according to personal preferences.</p>
                    
                    <p><strong>Portable Mini Design</strong></p>
                    <p>This LED nightlight only uses 1W, and it is made of ABS flame retardant materials, which is durable and safe. More light-emitting surfaces provide more light, won't take up much space, and doesn't take up its next outlets either.</p>
                    
                    <p><strong>Plug & Play</strong></p>
                    <p>The LED night light provides an ideal means of illuminating indoor locations such as children's rooms, bedrooms, kitchens, living rooms, hallways, stairs, or any dark space. It is an excellent choice for alleviating the fear of the dark.</p>
                    
                    <p><strong>Warm White 3000K</strong></p>
                    <p>Plug in night light gives off warm white light, soft and non-glare, which can protect eyes and won't strain eyes. The comfortable light can light up the way and provide safety in the dark, also help you fall asleep.</p>
                    
                    <p><strong>Important Note</strong></p>
                    <p>Please note the nightlights are light-activated, NOT motion-activated. If you want to use two dusk to dawn night lights at the same time, please use them at least 1 meter apart to avoid interfering with each other, otherwise flickering problems may occur.</p>
                    
                    <p><strong>Product Specifications</strong></p>
                    <ul>
                        <li>Finish type: Matte</li>
                        <li>Base material: Plastic</li>
                        <li>Product dimensions: 5D x 5W x 5H centimetres</li>
                        <li>Item weight: 0.08 Kilograms</li>
                        <li>Lamp type: LED</li>
                        <li>Color options: Warm White, Cool White, Natural White, RGB</li>
                    </ul>
                `
            }
        ];

        // Get product ID from URL
        function getProductId() {
            const params = new URLSearchParams(window.location.search);
            return parseInt(params.get('id')) || 1;
        }

        // Load product details
        function loadProduct() {
            const productId = getProductId();
            const product = products.find(p => p.id === productId) || products[0];

            const container = document.getElementById('productContainer');
            const descriptionContent = document.getElementById('descriptionContent');

            // Use images array if available, otherwise use single image
            const productImages = product.images || [product.image];
            const mainImage = productImages[0] || product.image;

            // Create thumbnails - show only first 6, add placeholder if more
            const maxThumbnails = 6;
            const visibleImages = productImages.slice(0, maxThumbnails);
            const hasMore = productImages.length > maxThumbnails;
            const remainingCount = productImages.length - maxThumbnails;

            const thumbnails = visibleImages.map((img, index) =>
                `<img src="${img}" alt="Thumbnail ${index + 1}" class="thumbnail ${index === 0 ? 'active' : ''}" onclick="changeMainImage('${img}', this)">`
            ).join('');

            // Add placeholder thumbnail if there are more images
            let placeholderThumbnail = '';
            if (hasMore) {
                placeholderThumbnail = `<div class="thumbnail thumbnail-more" onclick="openImageModal(${productId})" title="View all ${productImages.length} images">+${remainingCount}</div>`;
            }

            // Handle price display
            const priceDisplay = `<div class="product-price">¬£${product.price.toFixed(2)}</div>`;

            // Create color variants selector if product has color variants
            let colorVariantsHTML = '';
            if (product.colorVariants && product.colorVariants.length > 0) {
                const colorOptions = product.colorVariants.map((variant, index) =>
                    `<button class="color-option ${index === 0 ? 'active' : ''}" onclick="changeColorVariant(${productId}, ${index})">
                        <img src="${variant.mainImage}" alt="${variant.name}" class="color-option-thumbnail">
                        <span>${variant.name}</span>
                        <div class="color-option-price">¬£${product.price.toFixed(2)}</div>
                    </button>`
                ).join('');
                colorVariantsHTML = `
                    <div class="color-variants">
                        <div class="color-options">
                            ${colorOptions}
                        </div>
                    </div>
                `;
            }

            // Create specifications HTML if product has specifications
            let specificationsHTML = '';
            if (product.specifications && product.specifications.length > 0) {
                const specsList = product.specifications.map(spec =>
                    `<li>
                        <span class="spec-label">${spec.label}:</span>
                        <span class="spec-value">${spec.value}</span>
                    </li>`
                ).join('');
                specificationsHTML = `
                    <div class="product-specifications">
                        <h3 class="specifications-title">Product Specifications</h3>
                        <ul class="specifications-list">
                            ${specsList}
                        </ul>
                    </div>
                `;
            }

            // Create About This Item HTML if product has aboutItem
            let aboutItemHTML = '';
            if (product.aboutItem) {
                aboutItemHTML = `
                    <div class="about-item">
                        <h3 class="about-item-title">About this item</h3>
                        <div class="about-item-content">
                            ${product.aboutItem}
                        </div>
                    </div>
                `;
            }

            container.innerHTML = `
                <div class="product-images">
                    <img src="${mainImage}" alt="${product.title}" class="main-image" id="mainImage">
                    <button class="full-view-button" onclick="openFullView(document.getElementById('mainImage').src)">Click to see full view</button>
                    <div class="thumbnail-grid" id="thumbnailGrid">
                        ${thumbnails}${placeholderThumbnail}
                    </div>
                </div>
                <div class="product-info">
                    <h1 class="product-title">${product.title}</h1>
                    ${colorVariantsHTML}
                    ${priceDisplay}
                    ${specificationsHTML}
                    <button class="buy-button" onclick="handleBuy(${product.id})">
                        Buy Now
                  
                    </button>
                    ${aboutItemHTML}
                    
                </div>
            `;

            // Generate Product Information and Additional Information sections
            const infoSection = document.getElementById('productInformationSection');
            if (product.productInformation && product.additionalInformation) {
                // Generate Product Information table
                const productInfoRows = product.productInformation.map(item =>
                    `<tr>
                        <td>${item.label}</td>
                        <td>${item.value}</td>
                    </tr>`
                ).join('');

                // Generate Additional Information table
                const additionalInfoRows = product.additionalInformation.map(item => {
                    let valueHtml = item.value;
                    if (item.rating) {
                        const fullStars = Math.floor(item.rating);
                        const hasHalfStar = item.rating % 1 >= 0.5;
                        let starsHtml = '';
                        for (let i = 0; i < fullStars; i++) {
                            starsHtml += '<span class="rating-stars">‚òÖ</span>';
                        }
                        if (hasHalfStar) {
                            starsHtml += '<span class="rating-stars">‚òÜ</span>';
                        }
                        valueHtml = `${starsHtml} ${item.value} (${item.totalRatings.toLocaleString()} ratings)`;
                    }
                    if (item.link) {
                        valueHtml = `<a href="${item.link}">${item.value}</a>`;
                    }
                    return `<tr>
                        <td>${item.label}</td>
                        <td>${valueHtml}</td>
                    </tr>`;
                }).join('');

                infoSection.innerHTML = `
                    <div class="info-section">
                        <h3 class="info-section-title">Product Information</h3>
                        <div class="info-section-subtitle">Technical Details</div>
                        <table class="info-table">
                            ${productInfoRows}
                        </table>
                    </div>
                    <div class="info-section">
                        <h3 class="info-section-title">Additional Information</h3>
                        <table class="info-table">
                            ${additionalInfoRows}
                        </table>
                    </div>
                `;
            } else {
                infoSection.innerHTML = '';
            }

            // Generate From the Brand section with carousel
            const fromBrandSection = document.getElementById('fromBrandSection');
            if (productId === 7 || productId === 8) {
                // Use same images for both product 7 and 8 (use product 7's images)
                const baseProductId = 7;
                // Background image
                const bgImagePath = `./img/${baseProductId}-brand-bg.jpg`;

                // Generate brand images (7-brand-1, 7-brand-2, etc.)
                const brandImages = [];
                for (let i = 1; i <= 10; i++) {
                    const imgPath = `./img/${baseProductId}-brand-${i}.jpg`;
                    brandImages.push(imgPath);
                }

                const brandCarouselItems = brandImages.map((img, index) =>
                    `<div class="brand-carousel-item">
                        <div class="brand-carousel-foreground">
                            <img src="${img}" alt="From the brand ${index + 1}" onerror="this.closest('.brand-carousel-item').style.display='none'">
                        </div>
                    </div>`
                ).join('');

                fromBrandSection.innerHTML = `
                    <h2 class="from-brand-title">From the brand</h2>
                    <div class="description-carousel" id="fromBrandCarousel">
                        <button class="description-carousel-nav prev" onclick="navigateFromBrandCarousel(-1)">‚Äπ</button>
                        <div class="brand-carousel-container" id="fromBrandCarouselContainer" style="background-image: url('${bgImagePath}');">
                            <div class="brand-carousel-foreground-container" id="fromBrandCarouselForeground">
                                ${brandCarouselItems}
                            </div>
                        </div>
                        <button class="description-carousel-nav next" onclick="navigateFromBrandCarousel(1)">‚Ä∫</button>
                    </div>
                `;

                // Initialize from brand carousel after images load
                const brandForegroundContainer = document.getElementById('fromBrandCarouselForeground');
                if (brandForegroundContainer) {
                    const brandImages = brandForegroundContainer.querySelectorAll('img');
                    let loadedCount = 0;
                    const totalBrandImages = brandImages.length;

                    if (totalBrandImages === 0) {
                        setTimeout(() => {
                            initFromBrandCarousel();
                        }, 100);
                    } else {
                        brandImages.forEach((img, index) => {
                            img.onload = () => {
                                loadedCount++;
                                if (loadedCount === totalBrandImages || index === totalBrandImages - 1) {
                                    // Wait for DOM to update before calculating widths
                                    setTimeout(() => {
                                        initFromBrandCarousel();
                                    }, 100);
                                }
                            };
                            img.onerror = () => {
                                // Hide the entire carousel item (img -> brand-carousel-foreground -> brand-carousel-item)
                                const carouselItem = img.closest('.brand-carousel-item');
                                if (carouselItem) {
                                    carouselItem.style.display = 'none';
                                }
                                loadedCount++;
                                if (loadedCount === totalBrandImages || index === totalBrandImages - 1) {
                                    setTimeout(() => {
                                        initFromBrandCarousel();
                                    }, 100);
                                }
                            };
                            // If image is already loaded
                            if (img.complete) {
                                if (img.naturalHeight === 0) {
                                    const carouselItem = img.closest('.brand-carousel-item');
                                    if (carouselItem) {
                                        carouselItem.style.display = 'none';
                                    }
                                }
                                loadedCount++;
                                if (loadedCount === totalBrandImages) {
                                    setTimeout(() => {
                                        initFromBrandCarousel();
                                    }, 100);
                                }
                            }
                        });
                    }
                }
            } else {
                fromBrandSection.innerHTML = `
                    <h2 class="from-brand-title">From the brand</h2>
                `;
            }

            // Generate Product Description section with image grid
            const productDescriptionSection = document.getElementById('productDescriptionSection');
            if (productId === 7 || productId === 8) {
                // Use same images for both product 7 and 8 (use product 7's images)
                const baseProductId = 7;
                // Generate description images (try .jfif first, fallback to .jpg, hide if both fail)
                const imageItems = [];
                for (let i = 1; i <= 10; i++) {
                    const jfifPath = `./img/${baseProductId}-detail-${i}.jfif`;
                    const jpgPath = `./img/${baseProductId}-detail-${i}.jpg`;
                    imageItems.push(`
                        <div class="description-image-item">
                            <img src="${jfifPath}" alt="Product Description ${i}" 
                                 onerror="if(this.src.indexOf('.jfif')!==-1){this.src='${jpgPath}';}else{this.parentElement.style.display='none';}">
                        </div>
                    `);
                }

                productDescriptionSection.innerHTML = `
                    <h2 class="product-description-title">Product Description</h2>
                    <div class="description-images-grid">
                        ${imageItems.join('')}
                    </div>
                `;
            } else {
                productDescriptionSection.innerHTML = '';
            }

            // descriptionContent.innerHTML = product.fullDescription;
        }

        // Description carousel functions
        let currentDescriptionSlide = 0;
        let totalDescriptionSlides = 0;

        function initDescriptionCarousel() {
            const container = document.getElementById('descriptionCarouselContainer');
            if (!container) return;

            // Count visible items (items that are not hidden)
            const visibleItems = Array.from(container.querySelectorAll('.description-carousel-item')).filter(item => {
                return item.style.display !== 'none' && window.getComputedStyle(item).display !== 'none';
            });

            totalDescriptionSlides = visibleItems.length;
            currentDescriptionSlide = 0;

            updateDescriptionCarousel();
        }

        function navigateDescriptionCarousel(direction) {
            if (totalDescriptionSlides === 0) return;

            currentDescriptionSlide += direction;

            if (currentDescriptionSlide < 0) {
                currentDescriptionSlide = totalDescriptionSlides - 1;
            } else if (currentDescriptionSlide >= totalDescriptionSlides) {
                currentDescriptionSlide = 0;
            }

            updateDescriptionCarousel();
        }

        function updateDescriptionCarousel() {
            const container = document.getElementById('descriptionCarouselContainer');
            if (!container || totalDescriptionSlides === 0) return;

            container.style.transform = `translateX(-${currentDescriptionSlide * 100}%)`;

            // Update nav buttons
            const prevBtn = document.querySelector('#descriptionCarousel .description-carousel-nav.prev');
            const nextBtn = document.querySelector('#descriptionCarousel .description-carousel-nav.next');

            if (prevBtn && totalDescriptionSlides > 1) {
                prevBtn.disabled = false;
            }
            if (nextBtn && totalDescriptionSlides > 1) {
                nextBtn.disabled = false;
            }
        }

        // From the Brand carousel functions
        let currentFromBrandOffset = 0;
        let totalFromBrandSlides = 0;
        let itemWidth = 0;

        function initFromBrandCarousel() {
            const foregroundContainer = document.getElementById('fromBrandCarouselForeground');
            if (!foregroundContainer) return;

            // Count visible items (items that are not hidden)
            const visibleItems = Array.from(foregroundContainer.querySelectorAll('.brand-carousel-item')).filter(item => {
                return item.style.display !== 'none' && window.getComputedStyle(item).display !== 'none';
            });

            totalFromBrandSlides = visibleItems.length;
            currentFromBrandOffset = 0;

            // Calculate item width (including gap) - use average width of visible items
            if (visibleItems.length > 0) {
                const containerStyle = window.getComputedStyle(foregroundContainer);
                const gap = parseInt(containerStyle.gap) || 20;

                // Calculate average width of visible items
                let totalWidth = 0;
                visibleItems.forEach(item => {
                    totalWidth += item.offsetWidth;
                });
                itemWidth = Math.ceil(totalWidth / visibleItems.length) + gap;
            }

            updateFromBrandCarousel();
        }

        function navigateFromBrandCarousel(direction) {
            if (totalFromBrandSlides === 0 || itemWidth === 0) return;

            const container = document.getElementById('fromBrandCarouselContainer');
            const foregroundContainer = document.getElementById('fromBrandCarouselForeground');
            if (!container || !foregroundContainer) return;

            const containerWidth = container.offsetWidth;
            const maxOffset = Math.max(0, foregroundContainer.scrollWidth - containerWidth);

            currentFromBrandOffset += direction * itemWidth;

            // Clamp offset to valid range
            if (currentFromBrandOffset < 0) {
                currentFromBrandOffset = 0;
            } else if (currentFromBrandOffset > maxOffset) {
                currentFromBrandOffset = maxOffset;
            }

            updateFromBrandCarousel();
        }

        function updateFromBrandCarousel() {
            const foregroundContainer = document.getElementById('fromBrandCarouselForeground');
            const container = document.getElementById('fromBrandCarouselContainer');
            if (!foregroundContainer || !container || totalFromBrandSlides === 0) return;

            // Calculate max offset
            const containerWidth = container.offsetWidth;
            const maxOffset = Math.max(0, foregroundContainer.scrollWidth - containerWidth);

            // Clamp current offset to valid range
            if (currentFromBrandOffset > maxOffset) {
                currentFromBrandOffset = maxOffset;
            }
            if (currentFromBrandOffset < 0) {
                currentFromBrandOffset = 0;
            }

            // Move the foreground container by offset pixels
            foregroundContainer.style.transform = `translateX(-${currentFromBrandOffset}px)`;

            // Update nav buttons based on scroll position
            const prevBtn = document.querySelector('#fromBrandCarousel .description-carousel-nav.prev');
            const nextBtn = document.querySelector('#fromBrandCarousel .description-carousel-nav.next');

            if (prevBtn) {
                prevBtn.disabled = currentFromBrandOffset <= 0;
            }
            if (nextBtn) {
                nextBtn.disabled = currentFromBrandOffset >= maxOffset || maxOffset === 0;
            }
        }

        // Change main image
        function changeMainImage(src, thumbnail) {
            document.getElementById('mainImage').src = src;
            document.querySelectorAll('.thumbnail').forEach(t => t.classList.remove('active'));
            thumbnail.classList.add('active');
        }

        // Change color variant
        function changeColorVariant(productId, variantIndex) {
            const product = products.find(p => p.id === productId);
            if (!product || !product.colorVariants || !product.colorVariants[variantIndex]) {
                return;
            }

            const variant = product.colorVariants[variantIndex];
            const mainImage = document.getElementById('mainImage');
            const thumbnailGrid = document.getElementById('thumbnailGrid');

            // Update main image
            mainImage.src = variant.mainImage;

            // Update thumbnails - show only first 6, add placeholder if more
            const maxThumbnails = 6;
            const visibleImages = variant.images.slice(0, maxThumbnails);
            const hasMore = variant.images.length > maxThumbnails;
            const remainingCount = variant.images.length - maxThumbnails;

            const thumbnails = visibleImages.map((img, index) =>
                `<img src="${img}" alt="Thumbnail ${index + 1}" class="thumbnail ${index === 0 ? 'active' : ''}" onclick="changeMainImage('${img}', this)">`
            ).join('');

            // Add placeholder thumbnail if there are more images
            let placeholderThumbnail = '';
            if (hasMore) {
                placeholderThumbnail = `<div class="thumbnail thumbnail-more" onclick="openImageModal(${productId}, ${variantIndex})" title="View all ${variant.images.length} images">+${remainingCount}</div>`;
            }

            thumbnailGrid.innerHTML = thumbnails + placeholderThumbnail;

            // Update active color option
            document.querySelectorAll('.color-option').forEach((option, index) => {
                if (index === variantIndex) {
                    option.classList.add('active');
                } else {
                    option.classList.remove('active');
                }
            });
        }

        // Store current modal images and index
        let currentModalImages = [];
        let currentModalIndex = 0;

        // Open full view for main image
        function openFullView(imageSrc) {
            const modal = document.getElementById('imageModal');
            const modalContent = document.getElementById('modalGallery');

            modalContent.innerHTML = `
                <div class="modal-image-container">
                    <img src="${imageSrc}" alt="Full view" class="modal-image">
                </div>
            `;

            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        // Open image modal
        function openImageModal(productId, variantIndex = null) {
            const product = products.find(p => p.id === productId);
            if (!product) return;

            let imagesToShow = [];

            // If variantIndex is not provided, try to detect current active variant
            if (variantIndex === null && product.colorVariants && product.colorVariants.length > 0) {
                const activeColorOption = document.querySelector('.color-option.active');
                if (activeColorOption) {
                    const colorOptions = Array.from(document.querySelectorAll('.color-option'));
                    variantIndex = colorOptions.indexOf(activeColorOption);
                }
            }

            if (variantIndex !== null && product.colorVariants && product.colorVariants[variantIndex]) {
                imagesToShow = product.colorVariants[variantIndex].images;
            } else {
                imagesToShow = product.images || [product.image];
            }

            // Store images and start from first image
            currentModalImages = imagesToShow;
            currentModalIndex = 0;

            const modal = document.getElementById('imageModal');
            const modalContent = document.getElementById('modalGallery');

            // Display first image with navigation
            updateModalImage();

            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        // Update modal image display
        function updateModalImage() {
            const modalContent = document.getElementById('modalGallery');
            const currentImage = currentModalImages[currentModalIndex];

            if (!currentImage) return;

            const prevDisabled = currentModalIndex === 0 ? 'disabled' : '';
            const nextDisabled = currentModalIndex === currentModalImages.length - 1 ? 'disabled' : '';
            const counter = `${currentModalIndex + 1} / ${currentModalImages.length}`;

            modalContent.innerHTML = `
                <div class="modal-image-container">
                    <button class="modal-nav prev" ${prevDisabled} onclick="navigateModalImage(-1)" title="Previous image">‚óÄ</button>
                    <img src="${currentImage}" alt="Image ${currentModalIndex + 1}" class="modal-image" onclick="changeMainImageFromModal('${currentImage}')">
                    <button class="modal-nav next" ${nextDisabled} onclick="navigateModalImage(1)" title="Next image">‚ñ∂</button>
                    <div class="modal-counter">${counter}</div>
                </div>
            `;
        }

        // Navigate modal images
        function navigateModalImage(direction) {
            currentModalIndex += direction;

            // Clamp index to valid range
            if (currentModalIndex < 0) {
                currentModalIndex = 0;
            } else if (currentModalIndex >= currentModalImages.length) {
                currentModalIndex = currentModalImages.length - 1;
            }

            updateModalImage();
        }

        // Close image modal
        function closeImageModal() {
            const modal = document.getElementById('imageModal');
            modal.classList.remove('active');
            document.body.style.overflow = '';
        }

        // Change main image from modal
        function changeMainImageFromModal(imgSrc) {
            const mainImage = document.getElementById('mainImage');
            mainImage.src = imgSrc;

            // Update active thumbnail
            const imgFileName = imgSrc.split('/').pop();
            document.querySelectorAll('.thumbnail').forEach(t => {
                if (t.tagName === 'IMG' && t.src) {
                    const thumbFileName = t.src.split('/').pop();
                    if (thumbFileName === imgFileName) {
                        t.classList.add('active');
                    } else {
                        t.classList.remove('active');
                    }
                }
            });

            closeImageModal();
        }

        // Handle buy button
        function handleBuy(id) {
            if (id === 7) {
                window.open('https://www.amazon.co.uk/dp/B0CZMTN8X3?th=1', '_blank');
            } else if (id === 8) {
                window.open('https://www.amazon.co.uk/dp/B0D9JJ91H6?th=1', '_blank');
            } else {
                window.open('https://www.amazon.com/', '_blank');
            }
        }

        // Initialize
        loadProduct();

        // Close modal when clicking outside
        document.addEventListener('click', function (event) {
            const modal = document.getElementById('imageModal');
            if (event.target === modal) {
                closeImageModal();
            }
        });

        // Close modal with Escape key and navigate with arrow keys
        document.addEventListener('keydown', function (event) {
            const modal = document.getElementById('imageModal');
            if (!modal.classList.contains('active')) return;

            if (event.key === 'Escape') {
                closeImageModal();
            } else if (event.key === 'ArrowLeft') {
                navigateModalImage(-1);
            } else if (event.key === 'ArrowRight') {
                navigateModalImage(1);
            }
        });

        // Recalculate brand carousel on window resize
        let resizeTimer;
        window.addEventListener('resize', function () {
            clearTimeout(resizeTimer);
            resizeTimer = setTimeout(() => {
                if (document.getElementById('fromBrandCarouselForeground')) {
                    initFromBrandCarousel();
                }
            }, 250);
        });
    </script>

    <!-- Image Gallery Modal -->
    <div id="imageModal" class="image-modal">
        <div class="modal-close" onclick="closeImageModal()">&times;</div>
        <div class="modal-content">
            <div class="modal-gallery" id="modalGallery">
                <!-- Images will be loaded here -->
            </div>
        </div>
    </div>
</body>

</html>